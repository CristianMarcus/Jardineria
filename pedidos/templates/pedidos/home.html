{% extends "base.html" %}
{% load static %}

{% block content %}

<div class="home-page">
    <header class="hero bg-success text-white text-center py-5">
        <div class="container">
            <img src="{% static 'img/jardin_home.jfif' %}" class="caritafeliz" alt="caritafeliz">
            <h1 class="display-4"><i class="fas fa-leaf"></i> Bienvenidos a Jardinería y Piscinas</h1>
            <p class="lead">Expertos en mantenimiento de jardines, piscinas, corte de césped y poda de árboles.</p>
            <a href="{% url 'pedido' %}" class="btn btn-light btn-lg mt-3"><i class="fas fa-shopping-cart"></i> Hacer un Pedido</a>
        </div>
    </header>

    <section class="container my-5">
        <h2 class="text-center" id="servicios"><i class="fas fa-cogs"></i> Nuestros Servicios</h2>
        <div class="row row-cols-1 row-cols-md-3 g-4">
            {% for servicio in servicios %}
            <div class="col">
                <div class="card shadow-sm service-card">
                    <img src="{% static 'img/' %}{{ servicio.imagen }}" class="card-img-top" alt="{{ servicio.titulo }}" onclick="openLightbox(this)">
                    <div class="card-body text-center">
                        <h5 class="card-title"><i class="{{ servicio.icono }}"></i> {{ servicio.titulo }}</h5>
                        <p class="card-text">{{ servicio.descripcion }}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>

    <section class="container my-5 fade-in" id="beneficios">
        <h2 class="text-center"><i class="fas fa-check-circle"></i> ¿Por qué elegirnos?</h2>
        <div class="row mt-4 text-center">
            {% for beneficio in beneficios %}
            <div class="col-md-4 benefit-item">
                <i class="{{ beneficio.icono }} fs-1 mb-3 text-primary"></i>
                <h5>{{ beneficio.titulo }}</h5>
                <p>{{ beneficio.descripcion }}</p>
            </div>
            {% endfor %}
        </div>
    </section>

    <div id="lightbox" class="lightbox" onclick="closeLightbox()">
        <span class="close">&times;</span>
        <img id="lightbox-img" class="lightbox-content">
    </div>

    <section class="bg-light py-5 fade-in" id="testimonios">
        <h2 class="text-center"><i class="fas fa-comments"></i> Testimonios</h2>
        <div class="container mt-4">
            <div class="row d-flex align-items-stretch">
                <div class="col-md-4">
                    <div class="card shadow-sm h-100">
                        <div class="card-body d-flex flex-column">
                            <p class="card-text flex-grow-1"><i class="fas fa-quote-left"></i> Excelente servicio, mi jardín nunca había estado tan bien cuidado. 100% recomendado. <i class="fas fa-quote-right"></i></p>
                            <footer class="blockquote-footer">Diego Buchamer <cite title="Source Title">Cliente satisfecho</cite></footer>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card shadow-sm h-100">
                        <div class="card-body d-flex flex-column">
                            <p class="card-text flex-grow-1"><i class="fas fa-quote-left"></i> Muy profesionales, el mantenimiento de mi piscina ha sido impecable. Volveré a contratarlos. <i class="fas fa-quote-right"></i></p>
                            <footer class="blockquote-footer">María Juarez <cite title="Source Title">Cliente satisfecho</cite></footer>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card shadow-sm h-100">
                        <div class="card-body d-flex flex-column">
                            <p class="card-text flex-grow-1"><i class="fas fa-quote-left"></i> Increíble trabajo en la poda de árboles y decoración del jardín. Mis vecinos están impresionados. <i class="fas fa-quote-right"></i></p>
                            <footer class="blockquote-footer">Dario López <cite title="Source Title">Cliente satisfecho</cite></footer>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="bg-primary text-white text-center py-5 fade-in">
        <h2><i class="fas fa-lightbulb"></i> ¿Listo para transformar tu espacio?</h2>
        <p>Contáctanos ahora y obtén un presupuesto personalizado para tus necesidades.</p>
        <a href="{% url 'pedido' %}" class="btn btn-light btn-lg"><i class="fas fa-clipboard-list"></i> Solicitar Servicio</a>

        <div class="container text-center" id="contacto">
            <h2><i class="fas fa-envelope"></i> Contáctanos</h2>
            <p>Estamos listos para atender tus consultas y ofrecerte el mejor servicio.</p>
        </div>
    </section>

    <div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="imageModalLabel">Imagen Original</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <img id="modalImage" src="" class="img-fluid" alt="Imagen completa">
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.querySelectorAll('.card-img-top').forEach(image => {
        image.addEventListener('click', () => {
            document.getElementById('modalImage').src = image.src;
        });
    });

    function openLightbox(imgElement) {
        document.getElementById("lightbox").style.display = "flex";
        document.getElementById("lightbox-img").src = imgElement.src;
    }

    function closeLightbox() {
        document.getElementById("lightbox").style.display = "none";
    }
</script>
{% endblock %}